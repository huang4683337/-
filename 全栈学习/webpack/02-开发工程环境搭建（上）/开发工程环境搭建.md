+ 配置当前环境 npm源

  根目录新建 .npmrc

+ css 样式、静态资源

  + css 样式：less 、sass、postcss（css扩展： 压缩、兼容）、抽离css独立文件
  + 静态资源

+ html 

+ js -> vue  、 react 、 es6+ 、ts 转换 



```js
less-loader : 将 less 转化为 css语法

css-loader：将css 语法进行序列化，打包到js文件

style-loader：将序列化的css通过style在`<body>`中引入
```



[postcss    github官网](https://github.com/postcss/postcss/blob/master/docs/README-cn.md)

```js
postcss 在 css-loader 之前使用

postcss也需要配置 -- 根目录添加 postcss.config.js
```

## css抽离

`minicss-extract-plugin`

+ 这是一个插件需要在 plugin 中 new 一下进行配置

+ module 中的 css-loader 需要替换成 miniCssExtractPlugin.loader 

```js
/{
 “”“”“”“”“”“”
 test: /\.less$/,
  use:[
    loader:'MiniCssExtractPlugin.loader',	// 使用minicss-extract-plugin抽离css
    options:{
      // css中通过 background:url('xxx.png') 引入的文件
    	// 通过插件对图片编译处理后的地址拼接 xxx
    	// 保证编译后能文件路径不会出错
    	// background:url('../xxx.png')
      publicPath:'../'		
    },
    "css-loader",
    "postcss-loader",
    "less-loader"
  ]
}
```



## 使用 HtmlWebpackPlugin 在 html 模板中自动引入css、js 地址拼接

+ output 中修改所有

```js
output:{
  publicPath:'http://www.baidu.com'
}

// 打包后在 index.html 中
// <script src="http://www.baidu.com/我们在插件中配置的导报后的dist路径"></script>
```

+ 在 moudule 中配置

  ```js
  {
    test: /\.css$/,
    use:{
      loader:'xxxx',
      options:{
        publicPath:'../'		// 编译后的css文件在 html中引入时会添加 ../+编译后地址
      }
    }
  }
  ```

  

## 自定义loader

+ 写一个自定义 loader
+ 自定义loader处理