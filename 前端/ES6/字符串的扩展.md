# 字符串

## 字符串的扩展

### 字符的 Unicode 表

一般表示为 `\` 加上`Unicode`码

```js
"\u0061"	// 'a'
```

这种表示法只限于码点在`\u0000`~`\uFFFF`之间的字符。超出这个范围的字符，必须用两个双字节的形式表示

```js
"\uD842\uDFB7"	// "𠮷"

"\u20BB7"	// " 7"
```

{}表示法 用于	\u 后面超过四个字符

```js
"\u{20BB7}"	// "𠮷"
"\u{41}\u{42}\u{43}"	// "ABC"
'\u{1F680}' === '\uD83D\uDE80'	// true
```

### for...of

> ES6 中可以使用 `for...of` 遍历字符串

```js
for (let codePoint of 'foo') {
  console.log(codePoint);		// 'f' 'o' 'o'
}
```

> 可以识别 Unicode 码

```js
// 传统的 js 输出结果为 ''
let text = String.fromCodePoint(0x20BB7);
for (let i of text) {
  console.log(i);
}
```

### 模板字符串

```js
`字符串${变量}`
```

### 标签模板

```js
alert(123); 
// 可以写成
alert`123`
```

## 字符串新增的方法

### String.fromCodePoint() 

```js
// 可识别汉字级别的编码 将编码转化为字符

String.fromCodePoint(0x20BB7);	// "𠮷"
String.fromCodePoint(0x78, 0x1f680, 0x79) === 'x\uD83D\uDE80y';		// true
```



### String.raw()

```js
// 用于模板字符串的处理方法 \会被转译

String.raw`Hi\n${2+3}!`	// 实际返回 "Hi\\n5!"，显示的是转义后的结果 "Hi\n5!"
String.raw`Hi\\n`				// 返回 "Hi\\\\n"		显示的是转义后的结果 "Hi\\n"
```

```js
// String.raw() 代码实现

String.raw = function (strings, ...values) {
  let output = '';
  let index;
  for (index = 0; index < values.length; index++) {
    output += strings.raw[index] + values[index];
  }

  output += strings.raw[index]
  return output;
}
```

### codePointAt()

```js
// 将字符转化为编码  需要配合 for...of

let s = '𠮷a';
for (let ch of s) {
  console.log(ch.codePointAt(0).toString(16)); 	// 20bb7   61
}
// 使用 toString 转化为 16 进制
```

可以用来判断 字符是由几个字节组成

```js
function is32Bit(c) {
  return c.codePointAt(0) > 0xFFFF;
}

is32Bit("𠮷") // true
is32Bit("a") // false
```

### 实例方法：normalize()

用来将字符的不同表示方法统一为同样的形式，这称为 Unicode 正规化

```js

```

